<GridLayout class="playable-grid-buttons" rows="*,2*,2*,2*,2*,2*,2*,2*,2*,2*,2*" columns="*,5*" *ngIf="tournament"
  class="card">
  <ng-container *ngFor="let market of eventDetails.mk | filterAndSortByShownMarkets: shownMarkets; let i = index;">
    <!-- MARKET'S ROW -->
    <ng-container *ngIf="market.tp !== marketEnum['OverUnder']">
      <GridLayout row="{{i}}" col="0" shadow="3" cornerRadius="6" class="playable-row-tile display m-4 m-l-5">
        <StackLayout verticalAlignment="center" horizontalAlignment="center">
          <Label text="{{ 'DYNAMIC_KEYS.CockMarket.NAME.' + market.nm | translate | uppercase}}"
            textWrap="true"></Label>
        </StackLayout>
      </GridLayout>
      <GridLayout row="{{i}}" col="1" rows="*" columns="{{getColumnsString(market.sls.length)}}">
        <ng-container *ngFor="let selection of market.sls | rmSelFromMarket: 'X + Over'; let i2 = index">
          <GridLayout col="{{i2}}" class="btn-default-cock btn-cock-{{ selection.nm | competitorIto }} m-4 radius-5"
            [ngClass]="{'btn-actived': oddsSelected?.includes(selection.id)}" (tap)="selectOdd(market.tp, selection)"
            [isEnabled]="!mainService.placingEvent.timeBlocked && !userService.isModalOpen">
            <StackLayout orientation="horizontal" verticalAlignment="center" horizontalAlignment="center">
              <StackLayout *ngIf="market.tp === marketEnum['1X2'] && selection.tp === 1" verticalAlignment="center"
                horizontalAlignment="center" class="icon icon-cock-red" width="40%" height="90%">
              </StackLayout>
              <StackLayout verticalAlignment="center" horizontalAlignment="center" width="55%">
                <Label text="{{ selection.nm | competitorName: eventDetails.tm }}"
                  *ngIf="market.tp === marketEnum['1X2'] && (selection.tp === 1 || selection.tp === 3)"
                  horizontalAlignment="center" class="selection-name"></Label>
                <Label text="{{ selection.nm | extractSign | uppercase }}" *ngIf="market.tp !== marketEnum['1X2']"
                  horizontalAlignment="center" class="selection-name"></Label>
                <Label text="{{ selection.ods[0].vl | number: '1.2-2' }}" horizontalAlignment="center"
                  class="selection-value"></Label>
              </StackLayout>
              <StackLayout *ngIf="market.tp === marketEnum['1X2'] && selection.tp === 3" verticalAlignment="center"
                horizontalAlignment="center" class="icon icon-cock-blue" width="40%" height="90%">
              </StackLayout>
            </StackLayout>
          </GridLayout>
        </ng-container>
      </GridLayout>
    </ng-container>
  </ng-container>
</GridLayout>

<ng-container *ngIf="tournament">
  <mat-grid-list cols="10" rowHeight="{{rowHeight * 16/11}}" class="playable-grid-buttons">
    <mat-grid-tile class="match-name-col" colspan="2" rowspan="11">
      <div [style.width.%]="100">
        <mat-grid-list cols="1" rowHeight="{{rowHeight * 16/21}}">
          <mat-grid-tile>{{ 'EVENTS' | translate }}</mat-grid-tile>
          <mat-grid-tile *ngFor="let match of tournament.matches; let i = index" rowspan="2">
            <button class="playable-row-tile--soccer display radius-5"
              [ngClass]="{'playable-row-tile--active': match.selectedMatch}">
              <div class="badge"
                [ngClass]="{'badge--on': match.hasOddsSelected === true, 'badge--off': match.hasOddsSelected === false}">
                {{ i + 1 }}</div>
              <div class="video-icon"
                [ngClass]="{'video-enabled-icon': match.isVideoShown === true, 'video-disabled-icon': match.isVideoShown === false}">
              </div>
              <span>{{ match.name }}</span>
            </button>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
    </mat-grid-tile>
    <mat-grid-tile class="column-selection" colspan="8" rowspan="11">
      <div [style.width.%]="100">
        <ng-container *ngIf="!selectedMatch">
          <!-- TOURNAMENT'S OVERVIEW -->
          <mat-grid-list cols="7" rowHeight="{{rowHeight * 16/21}}">
            <mat-grid-tile colspan='7'>{{ 'MARKETS' | translate }}</mat-grid-tile>
          </mat-grid-list>
          <ng-container *ngFor="let row of tournament.overviewArea; let i = index">
            <mat-grid-list cols="7" rowHeight="{{rowHeight * 16/21}}">
              <ng-container *ngFor="let market of tournament.overviewArea[i].markets">
                <mat-grid-tile *ngFor="let odd of market.selections" rowspan="2">
                  <button class="btn-soccer-odd radius-5"
                    [ngClass]="{'btn-grey-gradient': !oddsSelected.includes(odd.id), 'btn-selected': oddsSelected.includes(odd.id)}"
                    (click)="selectOdd(market.id, odd)">
                    <div class="selection-details" fxLayout="column" fxLayoutAlign="center center">
                      <div class="selection-name">
                        <span>{{ odd.nm }}</span>
                        <span *ngIf="market.hasSpecialValue"> {{ market.specialValueOrSpread }}</span>
                      </div>
                      <span class="selection-value">{{ odd.ods[0].vl }}</span>
                    </div>
                  </button>
                </mat-grid-tile>
              </ng-container>
            </mat-grid-list>
          </ng-container>
        </ng-container>

        <ng-container *ngIf=" selectedMatch">
          <!-- EVENT'S DETAIL -->
          <!-- <ng-container *ngFor="let row of tournament.overviewArea; let i = index">
            <mat-grid-list cols="7" rowHeight="{{rowHeight * 16/10}}">
              <ng-container *ngFor="let market of tournament.overviewArea[i].markets">
                <mat-grid-tile *ngFor="let odd of market.selections">
                  <button class="btn btn-default btn-default-cock radius-5">
                    <div class="selection-details" fxLayout="column" fxLayoutAlign="center center">
                      <span class="selection-name">{{ odd.nm }}</span>
                      <span class="selection-value">{{ odd.ods[0].vl}}</span>
                    </div>
                  </button>
                </mat-grid-tile>
              </ng-container>
            </mat-grid-list>
          </ng-container> -->
        </ng-container>
      </div>
    </mat-grid-tile>
  </mat-grid-list>
</ng-container>
